<!DOCTYPE html>
<html lang="en">

<head>
    <title>guilhebl IO Pages</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="guilhebl IO Pages - Software Development writings">
    <meta name="author" content="Guilherme Becker Lamounier">

    <!-- Bootstrap Core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css">

    <!-- Fonts -->
    <link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='/font-awesome/css/font-lora.css' rel='stylesheet' type='text/css'>
    <link href='/font-awesome/css/font-montserrat.css' rel='stylesheet' type='text/css'>

    <!-- Custom Theme CSS -->
    <link href="/css/grayscale.css" rel="stylesheet">

    <!-- Syntax highlight CSS -->
    <link href="/css/syntax.css" rel="stylesheet" type="text/css">

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-49522383-1', 'guilhebl.github.io');
  ga('send', 'pageview');
</script>

</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-custom">

    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="/index.html">
                    <i class="fa fa-play-circle"></i>  <span class="light">guilhebl</span>
                </a>
            </div>

	<div class="col-sm-3 col-md-3 pull-right">
        <div class="input-group">

            <input type="text" class="search-field form-control" placeholder="Search" autocomplete="off">
            <div class="input-group-btn">
                <button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button>
            </div>
        </div>
        </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-right navbar-main-collapse">

                <ul class="nav navbar-nav">
                    <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="/#postList"><i class="fa fa-home fa-fw marginRight6"></i>Home</a>
                    </li>
                    <li class="page-scroll">
                        <a href="/categories"><i class="fa fa-list-ul fa-fw marginRight6"></i>Pages</a>
                    </li>
                    <li class="page-scroll">
                        <a href="/about"><i class="fa fa-user fa-fw marginRight6"></i>About</a>
                    </li>
                    <li class="page-scroll">
                        <a href="/contact"><i class="fa fa-coffee fa-fw marginRight6"></i>Contact</a>
                    </li>
                </ul>

            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->

        <div class="results resultsBox"></div>
    </nav>


    <section class="post">
        <div class="post-body">
            <div class="container">
		<div class="row-fluid">
		  <div class="center-block">
		    <h1>building an app based on angularjs, requirejs, jquery, bootstrap.</h1>
		    <p class="muted">13 July 2015</p>

		    <hr />




<h2>Prerequisites</h2>




<p>To start building the app you need to install:</p>




<ul>
<li>Node.js</li>
<li>npm</li>
</ul>




<hr />




<hr />




<h2>Farm App</h2>




<p>In this example we're going to create a sample app called "FarmApp", which should ressemble an imaginary farm.</p>




<h2>project directory tree</h2>




<div class="highlight"><pre><code class="language-terminal" data-lang="terminal">app/js$ tree
.
├── animations.js
├── app.js
├── controllers.js
├── directives.js
├── filters.js
├── main.js
├── routes.js
├── services.js
├── test-main.js
└── views
    └── animal_list
        ├── animal_list.html
        ├── animalList.js
        └── animalListSpec.js
//...</code></pre></div>




<hr />




<h2>package.json</h2>




<p>It's necessary to build the infrastructure of the project first, so for that we can begin with the package.json file, which makes npm manage your node modules.</p>




<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"farmApp"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The great Farm App"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The anonymous Developer &lt;myemail@mydomain.com&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"readmeFilename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"README.md"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"directories"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"repository"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"git"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"bower"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^1.3.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"grunt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.4.5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"grunt-bower-task"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.4.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"grunt-cli"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.1.13"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"grunt-contrib-clean"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"grunt-contrib-copy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"grunt-contrib-less"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"grunt-contrib-uglify"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"grunt-karma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.11.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jasmine-core"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^2.3.4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"karma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.12.37"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"karma-chrome-launcher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.2.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"karma-coffee-preprocessor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"karma-firefox-launcher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.1.6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"karma-html2js-preprocessor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.1.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"karma-jasmine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.3.6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"karma-junit-reporter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.2.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"karma-ng-scenario"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.1.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"karma-phantomjs-launcher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.2.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"karma-requirejs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.2.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"karma-script-launcher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.1.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protractor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^2.1.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"shelljs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.2.6"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"pretest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"npm install"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"karma start karma.conf.js"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"test-single-run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"karma start karma.conf.js  --single-run"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preupdate-webdriver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"npm install"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"update-webdriver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webdriver-manager update"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preprotractor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"npm run update-webdriver"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protractor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"protractor e2e-tests/protractor.conf.js"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></div>




<h2>bower.json</h2>




<p>Another component of the necessary infrastructure of the project is the bower.json file, which enables Bower to manage your JS dependencies and libraries during your build.</p>




<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"farmApp"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ignore"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">".jshintrc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"**/.txt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"node_modules"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bower_components"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tests"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"jquery"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=2.1.3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jquery-ui"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=1.11.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"angular"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=1.4.0-rc.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"angular-route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=1.4.0-rc.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"angular-resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=1.4.0-rc.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"angular-cookies"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=1.4.0-rc.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"angular-animate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=1.4.0-rc.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"angular-touch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=1.4.0-rc.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"angular-scenario"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=1.4.0-rc.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"angular-mocks"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=1.4.0-rc.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"angular-sanitize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=1.4.0-rc.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"angular-bootstrap"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=0.13.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bootstrap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=3.3.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"requirejs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=2.1.15"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"requirejs-text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=2.0.10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"html5-boilerplate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=5.2.0"</span><span class="w">
  </span><span class="p">}</span></code></pre></div>




<h2>Gruntfile.js</h2>




<p>now the gruntfile is the file that Grunt will use to generate your build, Grunt will generate your final JS build folder and it will do some lifecycle steps in the way like invoking tests, minifying and concatenating files for performance improvement, etc. Here you place all your required tasks prior to deployment.</p>




<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">grunt</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">webappDir</span> <span class="o">=</span> <span class="s1">'./app/'</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">cssDir</span> <span class="o">=</span> <span class="nx">webappDir</span> <span class="o">+</span> <span class="s1">'css/'</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">jsDir</span> <span class="o">=</span> <span class="nx">webappDir</span> <span class="o">+</span> <span class="s1">'js/'</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">dstDir</span> <span class="o">=</span> <span class="nx">webappDir</span> <span class="o">+</span> <span class="s1">'build/'</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">bowerDir</span> <span class="o">=</span> <span class="nx">webappDir</span> <span class="o">+</span> <span class="s1">'lib/bower_components/'</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">dstCssDir</span> <span class="o">=</span> <span class="nx">dstDir</span> <span class="o">+</span> <span class="s1">'css/'</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">dstJsDir</span> <span class="o">=</span> <span class="nx">dstDir</span> <span class="o">+</span> <span class="s1">'js/'</span><span class="p">;</span>

    <span class="nx">grunt</span><span class="p">.</span><span class="nx">initConfig</span><span class="p">({</span>
        <span class="na">pkg</span><span class="p">:</span> <span class="nx">grunt</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nx">readJSON</span><span class="p">(</span><span class="s1">'package.json'</span><span class="p">),</span>
        <span class="na">clean</span><span class="p">:</span> <span class="p">[</span> <span class="nx">dstDir</span> <span class="p">],</span>
        <span class="na">bower</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">install</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">targetDir</span><span class="p">:</span> <span class="nx">bowerDir</span><span class="p">,</span>
                    <span class="na">install</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="na">cleanTargetDir</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="na">cleanBowerDir</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="na">bowerOptions</span><span class="p">:</span> <span class="p">{}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="na">uglify</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">dist</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">compress</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="na">report</span><span class="p">:</span> <span class="s1">'min'</span>
                <span class="p">},</span>
                <span class="na">src</span><span class="p">:</span> <span class="p">[</span>
                    <span class="nx">jsDir</span> <span class="o">+</span> <span class="s1">'*.js'</span>
                <span class="p">],</span>
                <span class="na">dest</span><span class="p">:</span> <span class="nx">dstJsDir</span> <span class="o">+</span> <span class="s1">'all.js'</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="na">less</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">dist</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">compress</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="na">yuicompress</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="na">report</span><span class="p">:</span> <span class="s1">'min'</span>
                <span class="p">},</span>
                <span class="na">src</span><span class="p">:</span> <span class="p">[</span>
                    <span class="nx">cssDir</span> <span class="o">+</span> <span class="s1">'*.less'</span><span class="p">,</span>
                    <span class="nx">cssDir</span> <span class="o">+</span> <span class="s1">'*.css'</span>
                <span class="p">],</span>
                <span class="na">dest</span><span class="p">:</span> <span class="nx">dstCssDir</span> <span class="o">+</span> <span class="s1">'all.css'</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="na">karma</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">unit</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">configFile</span><span class="p">:</span> <span class="s1">'karma.conf.js'</span>
              <span class="p">}</span>
        <span class="p">}</span>        
    <span class="p">});</span>

    <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s1">'grunt-contrib-clean'</span><span class="p">);</span>
    <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s1">'grunt-bower-task'</span><span class="p">);</span>
    <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s1">'grunt-contrib-copy'</span><span class="p">);</span>
    <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s1">'grunt-contrib-uglify'</span><span class="p">);</span>
    <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s1">'grunt-karma'</span><span class="p">);</span>
    <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">'default'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'bower'</span><span class="p">,</span> <span class="s1">'uglify'</span><span class="p">,</span> <span class="nx">karma</span><span class="err">'</span><span class="p">]);</span>
<span class="p">};</span></code></pre></div>




<h2>index.html</h2>




<p>Now we can start with the index.html our main entry point for the application:</p>




<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span> <span class="na">ng-app</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;title&gt;</span>Farm app v1.0<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="nt">&gt;</span>
        
            <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"lib/bower_components/html5-boilerplate/dist/css/normalize.css"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"lib/bower_components/html5-boilerplate/dist/css/main.css"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"lib/bower_components/bootstrap/dist/css/bootstrap.css"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"lib/bower_components/jquery-ui/themes/base/jquery-ui.min.css"</span><span class="nt">&gt;</span>                                             
        <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"lib/bower_components/angular-datatables/dist/plugins/bootstrap/datatables.bootstrap.min.css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span><span class="nt">&gt;</span>

        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"lib/bower_components/html5-boilerplate/dist/js/vendor/modernizr-2.8.3.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body</span> <span class="na">ng-cloak</span> <span class="na">ng-controller=</span><span class="s">"MainCtrl"</span><span class="nt">&gt;</span>

<span class="c">&lt;!--Start Header--&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"header"</span> <span class="na">data-ng-include</span> <span class="na">data-src=</span><span class="s">"'partials/template/header.html'"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="c">&lt;!--End Header--&gt;</span>

<span class="c">&lt;!--Start Container--&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"main"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>  
        <span class="c">&lt;!--Start Content--&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"content"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">ng-view</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="c">&lt;!--End Content--&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="c">&lt;!--End Container--&gt;</span>

<span class="c">&lt;!--Start Footer --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"footer"</span> <span class="na">data-ng-include</span> <span class="na">data-src=</span><span class="s">"'partials/template/footer.html'"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="c">&lt;!--End Header--&gt;</span>

<span class="nt">&lt;script </span><span class="na">data-main=</span><span class="s">"js/main"</span> <span class="na">src=</span><span class="s">"lib/bower_components/requirejs/require.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></div>




<p>here we are pointing to js/main.js file for requireJS.</p>




<h2>main.js</h2>




<p>now we need to configure requireJS as our main module dependency manager:</p>




<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s1">'use strict'</span><span class="p">;</span>

<span class="nx">require</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>  
    <span class="na">baseUrl</span><span class="p">:</span> <span class="s1">'js/'</span><span class="p">,</span>
    <span class="na">deps</span><span class="p">:</span> <span class="p">[</span><span class="s1">'jquery'</span><span class="p">],</span>

    <span class="na">paths</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">jquery</span><span class="p">:</span> <span class="s1">'../lib/bower_components/jquery/dist/jquery.min'</span><span class="p">,</span>
        <span class="na">angular</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular/angular.min'</span><span class="p">,</span>
        <span class="na">angularAnimate</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-animate/angular-animate.min'</span><span class="p">,</span>
        <span class="na">angularCookies</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-cookies/angular-cookies.min'</span><span class="p">,</span>
        <span class="na">angularResource</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-resource/angular-resource.min'</span><span class="p">,</span> 
        <span class="na">angularRoute</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-route/angular-route.min'</span><span class="p">,</span>
        <span class="na">angularScenario</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-scenario/angular-scenario'</span><span class="p">,</span>
        <span class="na">angularMocks</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-mocks/angular-mocks'</span><span class="p">,</span>
        <span class="na">angularTouch</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-touch/angular-touch'</span><span class="p">,</span>      
        <span class="na">angularSanitize</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-sanitize/angular-sanitize.min'</span><span class="p">,</span>
        <span class="na">jqueryui</span><span class="p">:</span> <span class="s1">'../lib/bower_components/jquery-ui/jquery-ui.min'</span><span class="p">,</span>
        <span class="na">bootstrap</span><span class="p">:</span> <span class="s1">'../lib/bower_components/bootstrap/dist/js/bootstrap.min'</span><span class="p">,</span>
        <span class="na">angularBootstrap</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-bootstrap/ui-bootstrap-tpls'</span>
    <span class="p">},</span>   

    <span class="na">shim</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'angular'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'deps'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'jquery'</span><span class="p">],</span>
            <span class="s1">'exports'</span><span class="p">:</span> <span class="s1">'angular'</span>
        <span class="p">},</span>
        <span class="s1">'angularResource'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'deps'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'angular'</span><span class="p">],</span>
            <span class="na">exports</span><span class="p">:</span> <span class="s1">'angularResource'</span>
        <span class="p">},</span>
        <span class="s1">'angularRoute'</span><span class="err">:</span><span class="p">{</span>
            <span class="s1">'deps'</span><span class="err">:</span> <span class="p">[</span><span class="s1">'angular'</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="s1">'angularAnimate'</span><span class="err">:</span> <span class="p">{</span>
            <span class="s1">'deps'</span><span class="err">:</span> <span class="p">[</span><span class="s1">'angular'</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="s1">'angularCookies'</span><span class="err">:</span><span class="p">{</span>
            <span class="s1">'deps'</span><span class="err">:</span> <span class="p">[</span><span class="s1">'angular'</span><span class="p">]</span>
        <span class="p">},</span>          
    <span class="s1">'angularMocks'</span><span class="err">:</span> <span class="p">{</span>
        <span class="nl">deps</span><span class="p">:[</span><span class="s1">'angular'</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s1">'angularTouch'</span><span class="err">:</span> <span class="p">{</span>
        <span class="nl">deps</span><span class="p">:[</span><span class="s1">'angular'</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s1">'angularScenario'</span><span class="err">:</span> <span class="p">{</span>
        <span class="nl">deps</span><span class="p">:[</span><span class="s1">'angular'</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s1">'angularSanitize'</span><span class="err">:</span> <span class="p">{</span>
        <span class="nl">deps</span><span class="p">:[</span><span class="s1">'angular'</span><span class="p">]</span>
    <span class="p">},</span>
        <span class="s1">'angularBootstrap'</span> <span class="err">:</span> <span class="p">{</span>
         <span class="nl">deps</span><span class="p">:</span> <span class="p">[</span><span class="s1">'angular'</span><span class="p">,</span> <span class="s1">'bootstrap'</span><span class="p">]</span>
        <span class="p">},</span>
    <span class="s1">'bootstrap'</span> <span class="err">:</span> <span class="p">{</span><span class="nl">deps</span><span class="p">:[</span><span class="s1">'jquery'</span><span class="p">]}</span>
    <span class="p">},</span>   
    <span class="nx">priority</span><span class="err">:</span> <span class="p">[</span>
        <span class="s1">'angular'</span>
    <span class="p">]</span>

<span class="p">});</span>

<span class="c1">//https://docs.angularjs.org/guide/bootstrap</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">'NG_DEFER_BOOTSTRAP!'</span><span class="p">;</span>

<span class="nx">require</span><span class="p">([</span>
    <span class="s1">'angular'</span><span class="p">,</span>
    <span class="s1">'app'</span><span class="p">,</span>
    <span class="s1">'routes'</span>
<span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">,</span> <span class="nx">routes</span><span class="p">)</span> <span class="p">{</span>
    <span class="s1">'use strict'</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">$html</span> <span class="o">=</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">element</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'html'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]);</span> 
    <span class="nx">angular</span><span class="p">.</span><span class="nx">element</span><span class="p">().</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">angular</span><span class="p">.</span><span class="nx">resumeBootstrap</span><span class="p">([</span><span class="nx">app</span><span class="p">[</span><span class="s1">'name'</span><span class="p">]]);</span>
    <span class="p">});</span>
<span class="p">});</span></code></pre></div>




<h2>app.js</h2>




<p>now in app.js we register our AngularJS app module:</p>




<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">define</span><span class="p">([</span>
    <span class="s1">'angular'</span><span class="p">,</span>
    <span class="s1">'filters'</span><span class="p">,</span>
    <span class="s1">'services'</span><span class="p">,</span>
    <span class="s1">'directives'</span><span class="p">,</span>
    <span class="s1">'views/animal_list/animalList'</span><span class="p">,</span>
    <span class="s1">'views/animal_edit/animalEdit'</span><span class="p">,</span>
    <span class="s1">'animations'</span><span class="p">,</span>
    <span class="s1">'angularRoute'</span><span class="p">,</span>
    <span class="s1">'angularCookies'</span><span class="p">,</span>
    <span class="s1">'angularAnimate'</span><span class="p">,</span>
    <span class="s1">'angularTouch'</span><span class="p">,</span>
    <span class="s1">'angularSanitize'</span><span class="p">,</span>
    <span class="s1">'angularBootstrap'</span>
    <span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">angular</span><span class="p">)</span> <span class="p">{</span>
        <span class="s1">'use strict'</span><span class="p">;</span>
        
        <span class="k">return</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">'farmapp'</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">'ngRoute'</span><span class="p">,</span>
            <span class="s1">'ngCookies'</span><span class="p">,</span>
            <span class="s1">'ngAnimate'</span><span class="p">,</span>
            <span class="s1">'ngTouch'</span><span class="p">,</span>
            <span class="s1">'farmapp.services'</span><span class="p">,</span>
            <span class="s1">'farmapp.directives'</span><span class="p">,</span>
            <span class="s1">'farmapp.filters'</span><span class="p">,</span>
            <span class="s1">'farmapp.controllers'</span><span class="p">,</span>
            <span class="s1">'farmapp.animalList'</span><span class="p">,</span>
            <span class="s1">'farmapp.animalEdit'</span><span class="p">,</span>
            <span class="s1">'farmapp.animations'</span><span class="p">,</span>
            <span class="s1">'ngSanitize'</span><span class="p">,</span> 
            <span class="s1">'ui.bootstrap'</span>
        <span class="p">]);</span>
        
<span class="p">});</span></code></pre></div>




<p>Here we define our services, filters, directives and controllers.</p>




<h2>services.js</h2>




<p>Here we build our services that will interact with a backend applicaton server:</p>




<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">define</span><span class="p">([</span><span class="s1">'angular'</span><span class="p">,</span> <span class="s1">'angularResource'</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">angular</span><span class="p">)</span> <span class="p">{</span>
    <span class="s1">'use strict'</span><span class="p">;</span>
    
    <span class="cm">/* Services */</span>
    <span class="kd">var</span> <span class="nx">services</span> <span class="o">=</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">'farmapp.services'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'ngResource'</span><span class="p">]);</span>
        
    <span class="nx">services</span><span class="p">.</span><span class="nx">factory</span><span class="p">(</span><span class="s1">'AnimalService'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'$resource'</span><span class="p">,</span>
      <span class="kd">function</span><span class="p">(</span><span class="nx">$resource</span><span class="p">){</span>    
        <span class="k">return</span> <span class="nx">$resource</span><span class="p">(</span><span class="s1">'/farmWebApp/rest/animal/:id'</span><span class="p">,</span>
                <span class="p">{</span>
                <span class="na">id</span><span class="p">:</span> <span class="s2">"@id"</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">'getByName'</span><span class="p">:</span> <span class="p">{</span><span class="nl">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span> <span class="na">params</span><span class="p">:</span> <span class="p">{</span><span class="na">name</span><span class="p">:</span> <span class="s1">'@name'</span><span class="p">},</span> <span class="na">url</span><span class="p">:</span> <span class="s1">'/farmWebApp/rest/animal/:name'</span><span class="p">}</span>
                <span class="p">}</span>
        <span class="p">);</span>
      <span class="p">}]);</span>   
    
    <span class="k">return</span> <span class="nx">services</span><span class="p">;</span>
<span class="p">});</span></code></pre></div>




<p>The services class lists all your services, in this case for sake of brevity I listed only 1 service, but a good practice would be to separate individual services in separate files, as the project can grow huge and lots of lines turns to be hard to maintain.</p>




<h2>Controllers</h2>




<p>once again remember how our controllers are layered in a way such that their corresponding tests and html view are bundled together in the same folder:</p>




<div class="highlight"><pre><code class="language-terminal" data-lang="terminal">app/js$ tree
.
└── views
    └── animal_list
        ├── animal_list.html
        ├── animalList.js
        └── animalListSpec.js
//...</code></pre></div>




<hr />




<h2>animalList.js</h2>




<p>Here we build our first controller, Animal List, which will be responsible for fetching a list of animals from the service and displaying them nicely in a table.</p>




<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">define</span><span class="p">([</span><span class="s1">'angular'</span><span class="p">,</span> <span class="s1">'services'</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">angular</span><span class="p">)</span> <span class="p">{</span>
    <span class="s1">'use strict'</span><span class="p">;</span>
    
    <span class="cm">/* Controllers */</span>
    <span class="kd">var</span> <span class="nx">animalList</span> <span class="o">=</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">'farmapp.animalList'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'farmapp.services'</span><span class="p">]);</span>
        
    <span class="nx">animalList</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">'AnimalListCtrl'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'$scope'</span><span class="p">,</span> <span class="s1">'$filter'</span><span class="p">,</span> <span class="s1">'AnimalService'</span><span class="p">,</span> 
      <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">,</span> <span class="nx">$filter</span><span class="p">,</span> <span class="nx">AnimalService</span><span class="p">)</span> <span class="p">{</span>

        <span class="c1">// callback for ng-click 'deleteAnimal':</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">deleteAnimal</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">aId</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">AnimalService</span><span class="p">.</span><span class="nx">remove</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">aId</span> <span class="p">});</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">loadAnimalListTable</span><span class="p">();</span>
        <span class="p">};</span>
        
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">loadAnimalListTable</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">AnimalService</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">$scope</span><span class="p">.</span><span class="nx">animals</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
            <span class="p">});</span>
        <span class="p">};</span>

        <span class="nx">$scope</span><span class="p">.</span><span class="nx">loadAnimalListTable</span><span class="p">();</span>
  <span class="p">}]);</span>
    
<span class="k">return</span> <span class="nx">animalList</span><span class="p">;</span>
<span class="p">});</span></code></pre></div>




<h2>animal_list.html</h2>




<p>Here we build our first view, Animal List which displays an animal list in an HTML table.</p>




<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#/animal-create"</span> <span class="na">class=</span><span class="s">"btn"</span> <span class="na">role=</span><span class="s">"button"</span> <span class="nt">&gt;</span>create animal<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/div&gt;</span>
                    
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"box"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"box-content"</span><span class="nt">&gt;</span>

                <span class="nt">&lt;table&gt;</span>
                    <span class="nt">&lt;thead&gt;</span>
                        <span class="nt">&lt;tr&gt;</span>
                            <span class="nt">&lt;th&gt;</span>name<span class="nt">&lt;/th&gt;</span>
                            <span class="nt">&lt;th&gt;</span>class<span class="nt">&lt;/th&gt;</span>
                            <span class="nt">&lt;th&gt;</span>birth<span class="nt">&lt;/th&gt;</span>
                            <span class="nt">&lt;th&gt;</span>gender<span class="nt">&lt;/th&gt;</span>
                            <span class="nt">&lt;th&gt;</span>location<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;/tr&gt;</span>
                    <span class="nt">&lt;/thead&gt;</span>
                    <span class="nt">&lt;tbody&gt;</span>
                        <span class="nt">&lt;tr</span> <span class="na">ng-repeat=</span><span class="s">"animal in animals"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;td&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#/animal/{ {animal.name}}"</span><span class="nt">&gt;</span> { {animal.name}} <span class="nt">&lt;/a&gt;&lt;/td&gt;</span>
                            <span class="nt">&lt;td&gt;</span>{ {animal.class}}<span class="nt">&lt;/td&gt;</span>
                            <span class="nt">&lt;td&gt;</span>{ {animal.birth}}<span class="nt">&lt;/td&gt;</span>
                            <span class="nt">&lt;td&gt;</span>{ {animal.location}}<span class="nt">&lt;/td&gt;</span>
                        <span class="nt">&lt;/tr&gt;</span>
                    <span class="nt">&lt;/tbody&gt;</span>
                    <span class="nt">&lt;tfoot&gt;</span>
                        <span class="nt">&lt;tr&gt;</span>
                            <span class="nt">&lt;th&gt;</span>name<span class="nt">&lt;/th&gt;</span>
                            <span class="nt">&lt;th&gt;</span>class<span class="nt">&lt;/th&gt;</span>
                            <span class="nt">&lt;th&gt;</span>birth<span class="nt">&lt;/th&gt;</span>
                            <span class="nt">&lt;th&gt;</span>gender<span class="nt">&lt;/th&gt;</span>
                            <span class="nt">&lt;th&gt;</span>location<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;/tr&gt;</span>
                    <span class="nt">&lt;/tfoot&gt;</span>
                <span class="nt">&lt;/table&gt;</span>
         
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span></code></pre></div>




<h2>karma.conf.js</h2>




<p>In order to trigger unit tests in our application we will use Karma along with Jasmine for JS Unit tests.</p>




<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">){</span>
  <span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span>

    <span class="na">basePath</span> <span class="p">:</span> <span class="s1">'./'</span><span class="p">,</span>
    <span class="na">frameworks</span><span class="p">:</span> <span class="p">[</span><span class="s1">'jasmine'</span><span class="p">],</span>

    <span class="c1">// test results reporter to use</span>
    <span class="c1">// possible values: 'dots', 'progress', 'junit', 'growl', 'coverage'</span>
    <span class="na">reporters</span><span class="p">:</span> <span class="p">[</span><span class="s1">'progress'</span><span class="p">],</span>

    <span class="c1">// enable / disable colors in the output (reporters and logs)</span>
    <span class="na">colors</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>

    <span class="c1">// level of logging</span>
    <span class="c1">// possible values: config.LOG_DISABLE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG</span>
    <span class="c1">//logLevel: config.LOG_INFO,</span>
    <span class="na">logLevel</span><span class="p">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">LOG_DEBUG</span><span class="p">,</span>
    
    <span class="c1">// enable / disable watching file and executing tests whenever any file changes</span>
    <span class="na">autoWatch</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>

    <span class="c1">// If browser does not capture in given timeout [ms], kill it</span>
    <span class="na">captureTimeout</span><span class="p">:</span> <span class="mi">60000</span><span class="p">,</span>

    <span class="na">browserNoActivityTimeout</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
    
    <span class="c1">// Continuous Integration mode</span>
    <span class="c1">// if true, it capture browsers, run tests and exit</span>
    <span class="na">singleRun</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      
    <span class="na">plugins</span> <span class="p">:</span> <span class="p">[</span>               
               <span class="s1">'karma-chrome-launcher'</span><span class="p">,</span>
               <span class="s1">'karma-firefox-launcher'</span><span class="p">,</span>                            
               <span class="s1">'karma-script-launcher'</span><span class="p">,</span>
               <span class="s1">'karma-phantomjs-launcher'</span><span class="p">,</span>
               <span class="s1">'karma-junit-reporter'</span><span class="p">,</span>
               <span class="s1">'karma-jasmine'</span><span class="p">,</span>
               <span class="s1">'karma-requirejs'</span>               
    <span class="p">],</span>

    <span class="na">files</span> <span class="p">:</span> <span class="p">[</span>          
      <span class="s1">'node_modules/requirejs/require.js'</span><span class="p">,</span>
      <span class="s1">'node_modules/karma-requirejs/lib/adapter.js'</span><span class="p">,</span>      
      <span class="s1">'app/js/test-main.js'</span><span class="p">,</span>

      <span class="p">{</span><span class="na">pattern</span><span class="p">:</span> <span class="s1">'app/lib/**/*.js'</span><span class="p">,</span> <span class="na">included</span><span class="p">:</span> <span class="kc">false</span><span class="p">},</span>
      <span class="p">{</span><span class="na">pattern</span><span class="p">:</span> <span class="s1">'app/js/**/*.js'</span><span class="p">,</span> <span class="na">included</span><span class="p">:</span> <span class="kc">false</span><span class="p">},</span>      
      <span class="p">{</span><span class="na">pattern</span><span class="p">:</span> <span class="s1">'app/js/views/**/*Spec.js'</span><span class="p">,</span> <span class="na">included</span><span class="p">:</span> <span class="kc">false</span><span class="p">}</span>   
    <span class="p">],</span>
    
    <span class="c1">// list of files to exclude</span>
    <span class="na">exclude</span><span class="p">:</span> <span class="p">[</span>
      <span class="s1">'app/js/main.js'</span>
    <span class="p">],</span>    

    <span class="na">browsers</span><span class="p">:</span> <span class="p">[</span><span class="s1">'PhantomJS'</span><span class="p">]</span>

    <span class="na">junitReporter</span> <span class="p">:</span> <span class="p">{</span>
      <span class="na">outputFile</span><span class="p">:</span> <span class="s1">'test_out/unit.xml'</span><span class="p">,</span>
      <span class="na">suite</span><span class="p">:</span> <span class="s1">'unit'</span>
    <span class="p">}</span>
  
  <span class="p">});</span>
<span class="p">};</span></code></pre></div>




<h2>test-main.js</h2>




<p>Have your test-main file hold all your requireJS config for tests.</p>




<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">tests</span> <span class="o">=</span> <span class="p">[];</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">file</span> <span class="k">in</span> <span class="nb">window</span><span class="p">.</span><span class="nx">__karma__</span><span class="p">.</span><span class="nx">files</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">__karma__</span><span class="p">.</span><span class="nx">files</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">file</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="sr">/Spec</span><span class="se">\.</span><span class="sr">js$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">file</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">tests</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">file</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">requirejs</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
    <span class="c1">// Karma serves files from '/base'</span>
    <span class="na">baseUrl</span><span class="p">:</span> <span class="s1">'/base/app/js'</span><span class="p">,</span>

    <span class="na">paths</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">jquery</span><span class="p">:</span> <span class="s1">'../lib/bower_components/jquery/dist/jquery.min'</span><span class="p">,</span>
        <span class="na">angular</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular/angular.min'</span><span class="p">,</span>
        <span class="na">angularAnimate</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-animate/angular-animate.min'</span><span class="p">,</span>
        <span class="na">angularCookies</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-cookies/angular-cookies.min'</span><span class="p">,</span>
        <span class="na">angularResource</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-resource/angular-resource.min'</span><span class="p">,</span> 
        <span class="na">angularRoute</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-route/angular-route.min'</span><span class="p">,</span>
        <span class="na">angularScenario</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-scenario/angular-scenario'</span><span class="p">,</span>
        <span class="na">angularMocks</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-mocks/angular-mocks'</span><span class="p">,</span>
        <span class="na">angularTouch</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-touch/angular-touch'</span><span class="p">,</span>      
        <span class="na">angularSanitize</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-sanitize/angular-sanitize.min'</span><span class="p">,</span>
        <span class="na">jqueryui</span><span class="p">:</span> <span class="s1">'../lib/bower_components/jquery-ui/jquery-ui.min'</span><span class="p">,</span>
        <span class="na">bootstrap</span><span class="p">:</span> <span class="s1">'../lib/bower_components/bootstrap/dist/js/bootstrap.min'</span><span class="p">,</span>
        <span class="na">angularBootstrap</span><span class="p">:</span> <span class="s1">'../lib/bower_components/angular-bootstrap/ui-bootstrap-tpls'</span>
    <span class="p">},</span>   

    <span class="na">shim</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'angular'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'deps'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'jquery'</span><span class="p">],</span>
            <span class="s1">'exports'</span><span class="p">:</span> <span class="s1">'angular'</span>
        <span class="p">},</span>
        <span class="s1">'angularResource'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'deps'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'angular'</span><span class="p">],</span>
            <span class="na">exports</span><span class="p">:</span> <span class="s1">'angularResource'</span>
        <span class="p">},</span>
        <span class="s1">'angularRoute'</span><span class="err">:</span><span class="p">{</span>
            <span class="s1">'deps'</span><span class="err">:</span> <span class="p">[</span><span class="s1">'angular'</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="s1">'angularAnimate'</span><span class="err">:</span> <span class="p">{</span>
            <span class="s1">'deps'</span><span class="err">:</span> <span class="p">[</span><span class="s1">'angular'</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="s1">'angularCookies'</span><span class="err">:</span><span class="p">{</span>
            <span class="s1">'deps'</span><span class="err">:</span> <span class="p">[</span><span class="s1">'angular'</span><span class="p">]</span>
        <span class="p">},</span>          
    <span class="s1">'angularMocks'</span><span class="err">:</span> <span class="p">{</span>
        <span class="nl">deps</span><span class="p">:[</span><span class="s1">'angular'</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s1">'angularTouch'</span><span class="err">:</span> <span class="p">{</span>
        <span class="nl">deps</span><span class="p">:[</span><span class="s1">'angular'</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s1">'angularScenario'</span><span class="err">:</span> <span class="p">{</span>
        <span class="nl">deps</span><span class="p">:[</span><span class="s1">'angular'</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s1">'angularSanitize'</span><span class="err">:</span> <span class="p">{</span>
        <span class="nl">deps</span><span class="p">:[</span><span class="s1">'angular'</span><span class="p">]</span>
    <span class="p">},</span>
        <span class="s1">'angularBootstrap'</span> <span class="err">:</span> <span class="p">{</span>
         <span class="nl">deps</span><span class="p">:</span> <span class="p">[</span><span class="s1">'angular'</span><span class="p">,</span> <span class="s1">'bootstrap'</span><span class="p">]</span>
        <span class="p">},</span>
    <span class="s1">'bootstrap'</span> <span class="err">:</span> <span class="p">{</span><span class="nl">deps</span><span class="p">:[</span><span class="s1">'jquery'</span><span class="p">]}</span>
    <span class="p">},</span>   
    <span class="nx">priority</span><span class="err">:</span> <span class="p">[</span>
        <span class="s1">'angular'</span>
    <span class="p">]</span>

    <span class="c1">// ask Require.js to load these files (all our tests)</span>
    <span class="nl">deps</span><span class="p">:</span> <span class="nx">tests</span><span class="p">,</span>

    <span class="c1">// start test run, once Require.js is done</span>
    <span class="nx">callback</span><span class="err">:</span> <span class="nb">window</span><span class="p">.</span><span class="nx">__karma__</span><span class="p">.</span><span class="nx">start</span>
<span class="p">});</span></code></pre></div>




<h2>animalListSpec.js</h2>




<p>Now our unit test, in this case animalListSpec.js defines the tests that should be used by Karma for testing the animalList controller and view:</p>




<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">define</span><span class="p">([</span><span class="s1">'angular'</span><span class="p">,</span> <span class="s1">'app'</span><span class="p">,</span> <span class="s1">'views/animal_list/animalList'</span><span class="p">,</span><span class="s1">'angularMocks'</span><span class="p">],</span> 
    <span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">,</span> <span class="nx">animalList</span><span class="p">,</span> <span class="nx">angularMocks</span><span class="p">)</span> <span class="p">{</span>    

      <span class="c1">// Load the module with MainController</span>
      <span class="nx">beforeEach</span><span class="p">(</span><span class="nx">module</span><span class="p">(</span><span class="s1">'farmapp'</span><span class="p">));</span>

      <span class="kd">var</span> <span class="nx">ctrl</span><span class="p">,</span> <span class="nx">scope</span><span class="p">;</span>
      
      <span class="c1">// inject the $controller and $rootScope services</span>
      <span class="c1">// in the beforeEach block</span>
      <span class="nx">beforeEach</span><span class="p">(</span><span class="nx">inject</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$controller</span><span class="p">,</span> <span class="nx">$rootScope</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Create a new scope that's a child of the $rootScope</span>
        <span class="nx">scope</span> <span class="o">=</span> <span class="nx">$rootScope</span><span class="p">.</span><span class="nx">$new</span><span class="p">();</span>
        <span class="c1">// Create the controller</span>
        <span class="nx">ctrl</span> <span class="o">=</span> <span class="nx">$controller</span><span class="p">(</span><span class="s1">'AnimalListCtrl'</span><span class="p">,</span> <span class="p">{</span>
          <span class="na">$scope</span><span class="p">:</span> <span class="nx">scope</span>
        <span class="p">});</span>
      <span class="p">}));</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">'controller should be defined and not null'</span><span class="p">,</span> 
        <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>        
          <span class="nx">expect</span><span class="p">(</span><span class="nx">ctrl</span><span class="p">).</span><span class="nx">toBeDefined</span><span class="p">();</span>
          <span class="nx">expect</span><span class="p">(</span><span class="nx">ctrl</span><span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toBeNull</span><span class="p">();</span>
      <span class="p">});</span>
        
<span class="p">});</span></code></pre></div>




<p>once Unit test is created you can run tests by either grunt, typing grunt in the command line in folder where Gruntfile.js is located,
or either by typing karma start in the command line where karma.conf.js file is located.</p>




<hr />




<p>This is it for Part 1 of the tutorial!</p>




<hr />




		    <div id="disqus_thread"></div>
		    <script type="text/javascript">
			/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
			var disqus_shortname = 'guilhebliopages'; // required: replace example with your forum shortname

			/* * * DON'T EDIT BELOW THIS LINE * * */
			(function() {
			    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			})();
		    </script>
		    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		    
		  </div>
		</div>
            </div>
        </div>
    </section>
    <!-- Core JavaScript Files -->
    <script src="/js/jquery-1.10.2.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/jquery.easing.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="/js/grayscale.js"></script>

    <!-- Plugin Third party JavaScript -->
    <script src="/js/jekyll-search.js"></script>
    <script src="/js/jekyll-search.jquery.js"></script>
 
</body>

</html>


